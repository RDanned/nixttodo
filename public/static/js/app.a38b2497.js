(function(t){function e(e){for(var n,r,s=e[0],c=e[1],d=e[2],u=0,m=[];u<s.length;u++)r=s[u],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&m.push(i[r][0]),i[r]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);l&&l(e);while(m.length)m.shift()();return a.push.apply(a,d||[]),o()}function o(){for(var t,e=0;e<a.length;e++){for(var o=a[e],n=!0,r=1;r<o.length;r++){var c=o[r];0!==i[c]&&(n=!1)}n&&(a.splice(e--,1),t=s(s.s=o[0]))}return t}var n={},i={app:0},a=[];function r(t){return s.p+"static/js/"+({about:"about"}[t]||t)+"."+{about:"4671033e"}[t]+".js"}function s(e){if(n[e])return n[e].exports;var o=n[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,s),o.l=!0,o.exports}s.e=function(t){var e=[],o=i[t];if(0!==o)if(o)e.push(o[2]);else{var n=new Promise((function(e,n){o=i[t]=[e,n]}));e.push(o[2]=n);var a,c=document.createElement("script");c.charset="utf-8",c.timeout=120,s.nc&&c.setAttribute("nonce",s.nc),c.src=r(t);var d=new Error;a=function(e){c.onerror=c.onload=null,clearTimeout(u);var o=i[t];if(0!==o){if(o){var n=e&&("load"===e.type?"missing":e.type),a=e&&e.target&&e.target.src;d.message="Loading chunk "+t+" failed.\n("+n+": "+a+")",d.name="ChunkLoadError",d.type=n,d.request=a,o[1](d)}i[t]=void 0}};var u=setTimeout((function(){a({type:"timeout",target:c})}),12e4);c.onerror=c.onload=a,document.head.appendChild(c)}return Promise.all(e)},s.m=t,s.c=n,s.d=function(t,e,o){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(s.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)s.d(o,n,function(e){return t[e]}.bind(null,n));return o},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/",s.oe=function(t){throw console.error(t),t};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],d=c.push.bind(c);c.push=e,c=c.slice();for(var u=0;u<c.length;u++)e(c[u]);var l=d;a.push([0,"chunk-vendors"]),o()})({0:function(t,e,o){t.exports=o("56d7")},"034f":function(t,e,o){"use strict";o("85ec")},"56d7":function(t,e,o){"use strict";o.r(e);o("e260"),o("e6cf"),o("cca6"),o("a79d");var n=o("2b0e"),i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"app"}},[o("router-view")],1)},a=[],r=(o("034f"),o("2877")),s={},c=Object(r["a"])(s,i,a,!1,null,null,null),d=c.exports,u=(o("d3b7"),o("3ca3"),o("ddb0"),o("8c4f")),l=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("b-container",[o("b-row",{staticClass:"justify-content-center"},[o("b-col",{attrs:{cols:"6"}},[o("todo-add"),o("todo-nav"),o("todo-list",{attrs:{items:t.items}})],1)],1)],1)},m=[],p=o("5530"),f=o("2f62"),b=o("2909"),g=o("ade3"),h=(o("d81d"),o("99af"),o("7db0"),o("4de4"),o("bc3a")),v=o.n(h);v.a.defaults.baseURL="/api";var y,_,I=v.a,j=function(){return I.get("/items").then((function(t){return t.data}))},O=function(t){return I.post("/items",t).then((function(t){return t.data}))},C=function(t){return I.patch("/items/".concat(t.id),t).then((function(t){return t.data}))},x={getItems:j,addItem:O,updateItem:C},w={items:[],currentCategory:"all"},E={setItems:"[todo] Set todo list items",updateItem:"[todo] Update item",setEditItem:"[todo] Set edit item",setCategory:"[todo] Set category"},k={setItems:"[todo] Set todo list items",loadItems:"[todo] Load todo list items",addItem:"[todo] Add item",toggleCompleted:"[todo] Toggle item complement",setEditItem:"[todo] Set edit item",updateItem:"[todo] Update item",setCategory:"[todo] Set category"},D=(y={},Object(g["a"])(y,E.setItems,(function(t,e){t.items=e.items})),Object(g["a"])(y,E.updateItem,(function(t,e){t.items=t.items.map((function(t){return t.id==e.item.id&&(t=e.item),t}))})),Object(g["a"])(y,E.setEditItem,(function(t,e){t.editItem=e.item})),Object(g["a"])(y,E.setCategory,(function(t,e){t.currentCategory=e.category})),y),T=(_={},Object(g["a"])(_,k.setItems,(function(t,e){var o=e.items;t.commit(E.setItems,{items:o})})),Object(g["a"])(_,k.loadItems,(function(t){x.getItems().then((function(e){return t.commit(E.setItems,{items:e})}))})),Object(g["a"])(_,k.addItem,(function(t,e){var o=e.item,n=t.state.items[t.state.items.length-1].id;o.id=n+1,o.comleted=!1,x.addItem(o).then((function(){t.commit(E.setItems,{items:[].concat(Object(b["a"])(t.state.items),[o])})})).catch((function(){return console.log("smth went wrong")}))})),Object(g["a"])(_,k.toggleCompleted,(function(t,e){var o=e.id,n=t.state.items.find((function(t){return t.id==o}));n.completed=!n.completed,x.updateItem(n).then((function(){return t.commit(E.updateItem,{item:n})}))})),Object(g["a"])(_,k.updateItem,(function(t,e){var o=e.item;x.updateItem(o).then((function(){return t.commit(E.updateItem,{item:o})}))})),Object(g["a"])(_,k.setCategory,(function(t,e){var o=e.category;t.commit(E.setCategory,{category:o})})),_),$={getCurrentCategory:function(t){return t.currentCategory},getItemsByCategory:function(t){return"all"===t.currentCategory?t.items:"completed"===t.currentCategory?t.items.filter((function(t){return t.completed})):"incomplete"===t.currentCategory?t.items.filter((function(t){return!t.completed})):void 0}},S={state:w,actions:T,mutations:D,getters:$},A=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("b-row",[t._l(t.items,(function(t){return o("todo-item",{key:t.id,attrs:{item:t}})})),o("b-alert",{attrs:{show:0===Object.keys(t.items).length,variant:"info"}},[t._v("There is no todos yet")])],2)},P=[],L=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("b-col",{staticClass:"todo-item",attrs:{cols:"12"}},[t.isEdit?o("div",{class:["todo-item__text"]},[o("div",{class:["todo-item__title"]},[o("b-form-input",{model:{value:t.itemData.title,callback:function(e){t.$set(t.itemData,"title",e)},expression:"itemData.title"}})],1),o("div",{staticClass:"todo-item__description"},[o("b-form-textarea",{model:{value:t.itemData.description,callback:function(e){t.$set(t.itemData,"description",e)},expression:"itemData.description"}})],1),o("b-button",{attrs:{type:"submit",variant:"outline-primary"},on:{click:t.save}},[t._v("Save")])],1):o("div",{class:["todo-item__text"]},[o("div",{class:["todo-item__title",{completed:t.itemData.completed}],on:{click:t.expand}},[t._v(" "+t._s(t.itemData.title)),o("sub",[t._v("[click to view description]")])]),t.isExpanded?o("div",{staticClass:"todo-item__description"},[t._v(" "+t._s(t.itemData.description)+" ")]):t._e()]),o("div",{staticClass:"todo-item__controls"},[o("b-checkbox",{on:{change:t.toggleComplete},model:{value:t.itemData.completed,callback:function(e){t.$set(t.itemData,"completed",e)},expression:"itemData.completed"}}),o("b-icon-pen",{on:{click:t.startEdit}})],1)])},q=[],M=o("7386"),B={name:"TodoItem",components:{BIconPen:M["br"]},props:{item:{type:Object,required:!0}},data:function(){return{itemData:Object(p["a"])({},this.item),isEdit:!1,isExpanded:!1}},methods:{toggleComplete:function(){console.log(this.itemData.id),this.$store.dispatch(k.toggleCompleted,{id:this.itemData.id})},expand:function(){this.isExpanded=!this.isExpanded},startEdit:function(){this.isEdit=!0},save:function(){this.$store.dispatch(k.updateItem,{item:this.itemData}),this.isEdit=!1}}},U=B,J=Object(r["a"])(U,L,q,!1,null,null,null),N=J.exports,H={name:"TodoList",components:{TodoItem:N},props:{items:{type:Array,required:!0}}},R=H,z=Object(r["a"])(R,A,P,!1,null,null,null),F=z.exports,G=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("b-row",{staticClass:"mb-4"},[t.isAdding?o("b-form",[o("b-form-group",{attrs:{id:"title",label:"Title:","label-for":"title"}},[o("b-form-input",{attrs:{id:"title",type:"text",placeholder:"Enter title",required:""},model:{value:t.todo.title,callback:function(e){t.$set(t.todo,"title",e)},expression:"todo.title"}})],1),o("b-form-group",{attrs:{id:"description",label:"Description:","label-for":"description"}},[o("b-form-textarea",{attrs:{id:"description",placeholder:"Enter something...",rows:"3","max-rows":"6"},model:{value:t.todo.description,callback:function(e){t.$set(t.todo,"description",e)},expression:"todo.description"}})],1),o("b-button",{attrs:{type:"submit",variant:"primary"},on:{click:function(e){return e.preventDefault(),t.addItem.apply(null,arguments)}}},[t._v(" Save ")])],1):o("b-button",{on:{click:t.toggleAdding}},[t._v("add new item")])],1)},K=[],Q=(o("a4d3"),o("e01a"),{name:"TodoAdd",data:function(){return{isAdding:!1,todo:{title:"",description:""}}},methods:{addItem:function(){this.$store.dispatch(k.addItem,{item:Object(p["a"])({},this.todo)}),this.todo.title="",this.todo.description="",this.isAdding=!1},toggleAdding:function(){this.isAdding=!this.isAdding}}}),V=Q,W=Object(r["a"])(V,G,K,!1,null,null,null),X=W.exports,Y=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("b-row",[o("b-nav",{attrs:{tabs:""}},t._l(t.categories,(function(e,n){return o("li",{key:n,class:["nav-link",{active:e===t.currentCategory}],attrs:{"data-category":e},on:{click:t.changeCategory}},[t._v(" "+t._s(e)+" ")])})),0)],1)},Z=[],tt={name:"TodoNav",data:function(){return{categories:["all","completed","incomplete"]}},computed:Object(p["a"])({},Object(f["b"])({currentCategory:"getCurrentCategory"})),mounted:function(){this.$store.dispatch(k.loadItems)},methods:{changeCategory:function(t){this.$store.dispatch(k.setCategory,{category:t.currentTarget.dataset.category})}}},et=tt,ot=Object(r["a"])(et,Y,Z,!1,null,null,null),nt=ot.exports,it={name:"Todo",components:{TodoList:F,TodoAdd:X,TodoNav:nt},data:function(){return{categories:["all","completed","incomplete"]}},computed:Object(p["a"])({},Object(f["b"])({items:"getItemsByCategory"})),mounted:function(){this.$store.dispatch(k.loadItems)}},at=it,rt=Object(r["a"])(at,l,m,!1,null,null,null),st=rt.exports;n["default"].use(u["a"]);var ct=[{path:"/",name:"Home",component:st},{path:"/about",name:"About",component:function(){return o.e("about").then(o.bind(null,"f820"))}}],dt=new u["a"]({routes:ct}),ut=dt;n["default"].use(f["a"]);var lt=new f["a"].Store({state:{},mutations:{},actions:{},modules:{todo:S}}),mt=o("5f5b"),pt=o("b1e0");o("f9e3"),o("2dd8"),o("6672");n["default"].use(mt["a"]),n["default"].use(pt["a"]),n["default"].config.productionTip=!1,new n["default"]({router:ut,store:lt,render:function(t){return t(d)}}).$mount("#app")},6672:function(t,e,o){},"85ec":function(t,e,o){}});
//# sourceMappingURL=app.a38b2497.js.map